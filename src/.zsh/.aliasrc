# general
alias ll='ls -al'

# git
alias gc='for dir in $( find . -name ".git" )
	do cd ${dir%/*}
	echo $dir
	git remote prune origin
	git for-each-ref --format "%(refname:short)" refs/heads | grep --invert-match master | xargs git branch --delete --force
	git pull
	cd -
	done'

# docker
alias dps='docker ps --all --format "table {{.Names}}\t{{.Ports}}\t{{.Status}}" | (read -r; printf "%s\n" "$REPLY"; sort)'

# npm
alias bt='npm run build && npm run test'

# system
if [ `uname` = "Linux" ]; then
	alias sysupdate='
		sudo dnf update
		sudo dnf upgrade
		flatpak update
		brew update
		brew upgrade
		brew cleanup
		npm install --global npm
		npm update --global npm
		sudo gem update --system
		sudo gem update
		sudo gem cleanup
	'
else
	alias sysupdate='
		sudo softwareupdate --install -all
		brew update
		brew upgrade
		brew cask upgrade
		brew cleanup
		npm install --global npm
		npm update --global npm
		sudo gem update --system
		sudo gem update
		sudo gem cleanup
	'
fi

# lock screen
if [ `uname` = "Linux" ]; then
	alias afk='dbus-send --type=method_call --dest=org.gnome.ScreenSaver /org/gnome/ScreenSaver org.gnome.ScreenSaver.Lock'
else
	alias afk='/System/Library/CoreServices/Menu\ Extras/User.menu/Contents/Resources/CGSession -suspend'
fi
